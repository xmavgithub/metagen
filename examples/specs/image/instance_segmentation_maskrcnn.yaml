# MetaGen Spec: Mask R-CNN Instance Segmentation
#
# Mask R-CNN style CNN for instance segmentation on COCO.
#
# Key Parameters:
#   - Image size: 1024x1024
#   - Architecture: CNN (Mask R-CNN)
#   - Number of classes: 80 (COCO)
#   - Mask resolution: 28
#
# Example Usage:
#   metagen synth examples/specs/image/instance_segmentation_maskrcnn.yaml --out outputs/maskrcnn/

metagen_version: "1.0"
name: "Mask R-CNN Instance Segmentation"

modality:
  inputs:
    - image
  outputs:
    - segmentation_mask

task:
  type: instance_segmentation
  domain: coco
  num_classes: 80
  mask_resolution: 28

constraints:
  device: consumer_gpu
  latency: batch
  parameter_budget:
    max: "50M"
  image_size: 1024

architecture:
  family: cnn

training:
  objective:
    - instance_segmentation
  data:
    sources:
      - coco
    size: "118k images"
  compute:
    hardware: "8xA100"
    duration: "2 days"

evaluation:
  benchmarks:
    - coco_2017_val
  metrics:
    - mAP_mask
    - AP_50
    - AP_75
